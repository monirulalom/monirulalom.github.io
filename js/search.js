var searchFunc=function(t,e,a){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var r=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),s=document.getElementById(e);if(s){var n=document.getElementById(a);s.addEventListener("input",function(){var t='<ul class="search-result-list">',e=this.value.trim().toLowerCase().split(/[\s\-]+/);if(n.innerHTML="",!(this.value.trim().length<=0)){var a=0;r.forEach(function(r){var s=!0,n=r.title.trim(),c=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),l=r.url,i=-1,h=-1,u=-1;if(""!=n&&""!=c&&e.forEach(function(t,e){i=n.indexOf(t),h=c.indexOf(t),i<0&&h<0?s=!1:(h<0&&(h=0),0==e&&(u=h))}),s){a+=1,t+="<li><h2 class='post-title'><a href='"+l+"' class='search-result-title'>"+n+"</a></h2>";var o=r.content.trim().replace(/<[^>]+>/g,"");if(u>=0){var p=u-20,f=u+80;p<0&&(p=0),0==p&&(f=100),f>o.length&&(f=o.length);var v=o.substr(p,f);e.forEach(function(t){var e=new RegExp(t,"gi");v=v.replace(e,'<span class="search-keyword">'+t+"</span>")}),t+='<p class="search-result">'+v+"...</p>"}t+="</li>"}}),t+="</ul>";var s='<p class="text-xlarge text-color-base archieve-result search-result-summary">'+(s=a>0?a>1?a+" posts found":a+" post found":"Nothing found")+"</ul>";n.innerHTML=s+t}})}}})},search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path;searchFunc(path,"local-search-input","local-search-result");