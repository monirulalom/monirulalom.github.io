var searchFunc=function(t,a,r){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e,s=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),t=document.getElementById(a);t&&(e=document.getElementById(r),t.addEventListener("input",function(){var u,o='<ul class="search-result-list">',p=this.value.trim().toLowerCase().split(/[\s\-]+/);e.innerHTML="",this.value.trim().length<=0||(u=0,s.forEach(function(t){var s,e,a,r=!0,n=t.title.trim(),c=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),l=t.url,h=-1,i=-1;""!=n&&""!=c&&p.forEach(function(t,e){s=n.indexOf(t),h=c.indexOf(t),s<0&&h<0?r=!1:(h<0&&(h=0),0==e&&(i=h))}),r&&(u+=1,o+="<li><h2 class='post-title'><a href='"+l+"' class='search-result-title'>"+n+"</a></h2>",e=t.content.trim().replace(/<[^>]+>/g,""),0<=i&&(l=i+80,(l=0==(t=(t=i-20)<0?0:t)?100:l)>e.length&&(l=e.length),a=e.substr(t,l),p.forEach(function(t){var e=new RegExp(t,"gi");a=a.replace(e,'<span class="search-keyword">'+t+"</span>")}),o+='<p class="search-result">'+a+"...</p>"),o+="</li>")}),e.innerHTML='<p class="text-xlarge text-color-base archieve-result search-result-summary">'+(0<u?1<u?u+" posts found":u+" post found":"Nothing found")+"</ul>"+(o+="</ul>"))}))}})},search_path="search.xml",path="/"+(search_path=0==search_path.length?"search.xml":search_path);searchFunc(path,"local-search-input","local-search-result");